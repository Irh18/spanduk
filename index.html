<!DOCTYPE html>
<html lang="id">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Kalkulator Harga</title>
    <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.3/dist/css/bootstrap.min.css" rel="stylesheet" integrity="sha384-QWTKZyjpPEjISv5WaRU9OFeRpok6YctnYmDr5pNlyT2bRjXh0JMhjY6hW+ALEwIH" crossorigin="anonymous">
    <script src="https://cdn.jsdelivr.net/npm/sweetalert2@11"></script>
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.0/css/all.min.css">
    <style>
        :root {
            --primary: #6366f1;
            --primary-dark: #4f46e5;
            --secondary: #f8fafc;
            --dark: #0f172a;
            --dark-light: #1e293b;
            --gray: #64748b;
            --success: #10b981;
            --danger: #ef4444;
            --radius: 16px;
            --shadow: 0 10px 25px -5px rgba(0, 0, 0, 0.3);
        }

        * {
            margin: 0;
            padding: 0;
            box-sizing: border-box;
            font-family: 'Segoe UI', system-ui, -apple-system, sans-serif;
        }

        body {
            background: linear-gradient(135deg, #0f172a, #1e293b);
            color: var(--secondary);
            min-height: 100vh;
            display: flex;
            justify-content: center;
            align-items: center;
            padding: 20px;
        }

        .calculator-card {
            background: var(--dark-light);
            border-radius: var(--radius);
            box-shadow: var(--shadow);
            width: 100%;
            max-width: 400px;
            overflow: hidden;
            border: 1px solid rgba(255, 255, 255, 0.05);
        }

        .calculator-header {
            background: var(--dark);
            padding: 20px;
            text-align: center;
            border-bottom: 1px solid rgba(255, 255, 255, 0.05);
        }

        .calculator-title {
            font-size: 1.5rem;
            font-weight: 700;
            margin-bottom: 5px;
            background: linear-gradient(90deg, var(--primary), #8b5cf6);
            -webkit-background-clip: text;
            -webkit-text-fill-color: transparent;
        }

        .calculator-subtitle {
            font-size: 0.9rem;
            color: var(--gray);
            /* Subtitle ini telah dihapus */
            display: none; 
        }

        .calculator-body {
            padding: 25px;
        }

        .input-group {
            margin-bottom: 25px;
        }

        .input-label {
            display: block;
            margin-bottom: 8px;
            font-weight: 500;
            color: var(--gray);
            font-size: 0.9rem;
            /* Label ini telah dihapus */
            display: none; 
        }

        .input-field {
            width: 100%;
            padding: 15px;
            background: rgba(30, 41, 59, 0.7);
            border: 2px solid rgba(100, 116, 139, 0.3);
            border-radius: 12px;
            color: var(--secondary);
            font-size: 1.1rem;
            font-weight: 500;
            transition: all 0.3s ease;
        }

        .input-field:focus {
            outline: none;
            border-color: var(--primary);
            box-shadow: 0 0 0 3px rgba(99, 102, 241, 0.2);
        }

        .input-field::placeholder {
            color: rgba(100, 116, 139, 0.7);
        }

        .results-container {
            display: flex;
            flex-direction: column;
            gap: 15px;
            margin-top: 25px;
        }

        .result-card {
            background: rgba(30, 41, 59, 0.7);
            border-radius: 12px;
            padding: 18px;
            display: flex;
            justify-content: space-between;
            align-items: center;
            border: 1px solid rgba(100, 116, 139, 0.2);
            transition: all 0.3s ease;
            cursor: pointer;
        }

        .result-card:hover {
            background: rgba(30, 41, 59, 0.9);
            transform: translateY(-2px);
            box-shadow: 0 5px 15px rgba(0, 0, 0, 0.2);
        }

        .result-info {
            display: flex;
            flex-direction: column;
        }

        .result-label {
            font-size: 0.9rem;
            color: var(--gray);
            margin-bottom: 5px;
        }

        .result-value {
            font-size: 1.3rem;
            font-weight: 700;
            color: var(--secondary);
        }

        .result-icon {
            color: var(--primary);
            font-size: 1.2rem;
            opacity: 0.7;
            transition: all 0.3s ease;
        }

        .result-card:hover .result-icon {
            opacity: 1;
            transform: scale(1.1);
        }

        .calculator-footer {
            padding: 20px;
            text-align: center;
            border-top: 1px solid rgba(255, 255, 255, 0.05);
            color: var(--gray);
            font-size: 0.8rem;
            /* Footer ini telah dihapus */
            display: none;
        }

        .input-row {
            display: flex;
            gap: 15px;
            margin-bottom: 25px;
        }

        .input-col {
            flex: 1;
        }
        
        .input-row .input-group {
            margin-bottom: 0;
        }

        /* Animasi untuk hasil yang berubah */
        @keyframes pulse {
            0% { transform: scale(1); }
            50% { transform: scale(1.05); }
            100% { transform: scale(1); }
        }

        .value-updated {
            animation: pulse 0.5s ease;
        }

        /* Responsif untuk layar kecil */
        @media (max-width: 480px) {
            .calculator-body {
                padding: 20px;
            }
            
            .input-field {
                padding: 12px;
            }
            
            .result-card {
                padding: 15px;
            }
            
            .result-value {
                font-size: 1.2rem;
            }
            
            /* Tumpuk input di layar kecil */
            .input-row {
                flex-direction: column;
                gap: 0;
            }
            
            .input-row .input-group {
                margin-bottom: 25px;
            }
        }
    </style>
</head>
<body>
    <div class="calculator-card">
        <div class="calculator-header">
            <h1 class="calculator-title">Kalkulator Harga</h1>
            </div>
        
        <div class="calculator-body">
            <div class="input-row">
                <div class="input-col">
                    <div class="input-group">
                        <input type="number" id="angka1" step="any" tabindex="1" placeholder="Angka Pertama" class="input-field">
                    </div>
                </div>
                
                <div class="input-col">
                    <div class="input-group">
                        <input type="number" id="angka2" step="any" tabindex="2" placeholder="Angka Kedua" class="input-field">
                    </div>
                </div>
            </div>
            
            <div class="results-container" id="hasil-container">
                <div class="result-card" id="hasil_20k" onclick="salinHasil('hasil_20k')">
                    <div class="result-info">
                        <span class="result-label">Harga Spanduk</span>
                        <span class="result-value" id="value_20k">Rp 0</span>
                    </div>
                    <div class="result-icon">
                        <i class="fas fa-copy"></i>
                    </div>
                </div>
                
                <div class="result-card" id="hasil_50k" onclick="salinHasil('hasil_50k')">
                    <div class="result-info">
                        <span class="result-label">Harga Bahan Korea</span>
                        <span class="result-value" id="value_50k">Rp 0</span>
                    </div>
                    <div class="result-icon">
                        <i class="fas fa-copy"></i>
                    </div>
                </div>
                
                <div class="result-card" id="hasil_100k" onclick="salinHasil('hasil_100k')">
                    <div class="result-info">
                        <span class="result-label">Harga Stiker Ritrama</span>
                        <span class="result-value" id="value_100k">Rp 0</span>
                    </div>
                    <div class="result-icon">
                        <i class="fas fa-copy"></i>
                    </div>
                </div>
            </div>
        </div>
        
        </div>

    <script>
        // Fungsi utilitas
        function formatRibuan(angka) {
            return Math.round(angka).toString().replace(/\B(?=(\d{3})+(?!\d))/g, ".");
        }
        
        // Fungsi utama perhitungan
        function calculateTotal(hargaDasar, angka1, angka2) {
            let total = hargaDasar * angka1 * angka2;
            
            // Logika pembulatan asli (pembulatan ke ribuan terdekat jika total >= 1.000.000)
            if (total >= 1000000) {
                total = Math.round(total / 1000) * 1000;
            }
            return Math.round(total);
        }

        function updateHasil() {
            // Ambil input Angka 1 dan Angka 2
            let angka1 = parseFloat(document.getElementById("angka1").value) || 0;
            let angka2 = parseFloat(document.getElementById("angka2").value) || 0;
            
            // Definisikan semua harga yang digunakan
            const HARGA_20K = 20000;
            const HARGA_50K = 50000;
            const HARGA_100K = 100000;

            // Hitung 3 hasil
            const total_20k = calculateTotal(HARGA_20K, angka1, angka2);
            const total_50k = calculateTotal(HARGA_50K, angka1, angka2);
            const total_100k = calculateTotal(HARGA_100K, angka1, angka2);

            // Tampilkan hasil di elemen yang sesuai
            const value20k = document.getElementById("value_20k");
            const value50k = document.getElementById("value_50k");
            const value100k = document.getElementById("value_100k");
            
            // Tambahkan animasi saat nilai berubah
            if (value20k.textContent !== "Rp " + formatRibuan(total_20k)) {
                value20k.textContent = "Rp " + formatRibuan(total_20k);
                value20k.classList.add("value-updated");
                setTimeout(() => value20k.classList.remove("value-updated"), 500);
            }
            
            if (value50k.textContent !== "Rp " + formatRibuan(total_50k)) {
                value50k.textContent = "Rp " + formatRibuan(total_50k);
                value50k.classList.add("value-updated");
                setTimeout(() => value50k.classList.remove("value-updated"), 500);
            }
            
            if (value100k.textContent !== "Rp " + formatRibuan(total_100k)) {
                value100k.textContent = "Rp " + formatRibuan(total_100k);
                value100k.classList.add("value-updated");
                setTimeout(() => value100k.classList.remove("value-updated"), 500);
            }
        }

        function salinHasil(elementId) {
            const resultCard = document.getElementById(elementId);
            const hasilText = resultCard.querySelector(".result-value").textContent;
            // Hapus 'Rp ' dan semua titik
            const angkaUtuh = hasilText.replace('Rp ', '').replace(/\./g, '');
            
            // Tambahkan efek visual saat menyalin
            resultCard.style.background = "rgba(99, 102, 241, 0.2)";
            setTimeout(() => {
                resultCard.style.background = "";
            }, 300);
            
            navigator.clipboard.writeText(angkaUtuh).then(() => {
                Swal.fire({
                    toast: true,
                    position: 'top-end',
                    icon: 'success',
                    title: 'Nilai disalin: ' + formatRibuan(angkaUtuh),
                    showConfirmButton: false,
                    timer: 1500,
                    background: '#1e293b',
                    color: '#e2e8f0',
                    iconColor: '#10b981'
                });
            });
        }

        // --- Event Listeners dan Logika Fokus ---
        const inputAngka1 = document.getElementById("angka1");
        const inputAngka2 = document.getElementById("angka2");

        inputAngka1.addEventListener("input", updateHasil);
        inputAngka2.addEventListener("input", updateHasil);
        
        // Tab Handler (Looping antara Angka 1 dan Angka 2)
        inputAngka1.addEventListener("keydown", (e) => {
            if (e.key === "Tab" && !e.shiftKey) {
                e.preventDefault();
                inputAngka2.focus();
                inputAngka2.select();
            }
        });

        inputAngka2.addEventListener("keydown", (e) => {
            if (e.key === "Tab") {
                e.preventDefault();
                // Tab ke depan atau ke belakang akan kembali ke Angka 1
                inputAngka1.focus();
                inputAngka1.select();
            }
        });

        window.onload = () => {
            updateHasil();
            inputAngka1.focus();
        };
    </script>
</body>
</html>
